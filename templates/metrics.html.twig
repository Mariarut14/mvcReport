{# templates/about.html.twig #}

{% extends "base.html.twig" %}

{% block title %}Report{% endblock %}

{% block body %}
    <article class=article>
    <h1>Kodkvalité och "clean code"</h1>
        <h6>Introduktion</h6>
        <p></p>
        <ul>        
            <li>Codestyle - Olika programmeringsspråk har olika codestyle, alltså "regler" 
            för hur koden ska skrivas (även om mycket är lika också). Programmen kan 
            fungera bra även om man inte följer reglerna, men koden blir tydligare och 
            enklare att tyda om reglerna följs. Det kan t.ex. handla om radlängd, 
            indentering, kommentarer och onödig kod. </li
            <li>Coverage - Ett mättal på hur många procent av koden som blir testad av 
            testfiler. Mäts i procent. I mitt projekt fick jag endast 19 % eftersom jag 
            bara har test på cardgame-klasserna och inte på controllerna eller 
            library-klasserna.
            </li
            <li>Complexity - Om ett projekt eller klass får ett högt värde på complexity 
            så är koden uppbyggd med många valsituationer. Starvärdet är 1 och sedan läggs 
            det till +1 för varje valsituation. Det kan t.ex. vara if-satser, 
            while-loopar och for-loopar. Kod med hög komplexitet är svår-testad 
            och kan även vara svår att förstå och leta fel i. Ett bra sätt att undvika hög 
            komplexitet är att hålla klasserna små och vara noga med att de bara gör en sak.
            Min klass som har högst complexity (16) är HandGame och testklassen som hör till den. 
            Inte så förvånande eftersom spelet består av många valsituationer.</li
            <li>Cohesion - LCOM (Lack of cohesion of methods) är ett mätvärde på hur mycket 
            metoderna i en klass är sammankopplade. Man eftersträvar ett lågt värde som alltså 
            betyder att det är en låg avsaknad av samband mellan metoderna. Om värdet är högt 
            behöver antagligen klassen delas upp i flera klasser. När jag tittar på mina 
            klasser är det controllern apiController som sticker ut med ett värde på 8.</li
            <li>Coupling - AC (afferent coupling) mäter hur många klasser som påverkas av 
            analyserade klassen och EC (efferent coupling) mäter hur många andra klasser som 
            analyserade klassen påverkas av. Controller-klasserna har alltså hög EF eftersom 
            de är beroende av andra klasser medan t.ex. CardGraphic-klassen påverkar många andra klasser 
            och alltså har högt AC (5).</li
            <li>CRAP - Change Risk Analyzer and Predictor (CRAP) mäter kombinationen komplexitet och 
            test-täckning. Ju högre komplexitet desto större del av koden behöver testas. Man ska 
            sträva efter att hamna under värdet 30. Eftersom jag inte har några test på 
            kontroll-klasserna blir CRAP-värdet högt på de metoderna, t.ex. metoden playBank får 
            CRAP-värdet 20.</li
        </ul>
        <h6>Phpmetrics</h6>
        <p>När jag analyserar min kod med Phpmetrics får jag resultatet:
        <img src="{{asset(img/metrics.png)}}" alt='metrics' ></img>
        <p>Jag har LOC på 872 rader vilket är en rimlig summa, men när man 
        tittar hur mycket det är i varje klass så kanske det är på gränsen 
        till mycket i vissa klasser, som t.ex. controller-klasserna.</p>
        <p>Jag får även 6 st varningar där en är röd. Det är api-controllern 
        som har många metoder och inte följer "single-responsability".</p>
        <img src="{{asset(img/metrics_violations.png)}}"></img>
        <p>Komplexiteten ligger strax under 4/klass, men klassen Handgame 
        ligger högt över med 13. Det är många beslut som tas när framför allt 
        banken spelar så det är ganska väntat att det blir ett högt 
        värde på den klassen.</p>
        <p>De delar jag tänker förbättra är api-controllern som både innehåller 
        många metoder och har dålig cohesion. (LCOM=8) Egentligen borde även 
        klassen HandGame ses över, men blir ett för stort projekt att ändra då 
        det kommer påverka så många andra delar så det ryms inte i det här kursmomentet.</p>
        <h6>Scrutinizer</h6>
        <p></p>
        https://scrutinizer-ci.com/g/Mariarut14/mvcReport/badges/quality-score.png?b=main
        https://scrutinizer-ci.com/g/Mariarut14/mvcReport/badges/coverage.png?b=main
        https://scrutinizer-ci.com/g/Mariarut14/mvcReport/badges/build.png?b=main
        <h6>Förbättringar</h6>
        <p></p>
        <h6>Diskussion</h6>
        <p></p>
    </article>
{% endblock %}